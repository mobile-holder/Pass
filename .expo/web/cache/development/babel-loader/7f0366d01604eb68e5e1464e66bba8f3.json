{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _templateObject,\n    _this = this,\n    _jsxFileName = \"/home/bstudent/project/pass3/src/App.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport styled, { ThemeProvider } from 'styled-components/native';\nimport { theme } from \"./colors/Main\";\nimport Navigation from \"./navigations\";\nimport { BlankCardPage, CardPage } from \"./screens\";\nimport AppLoading from 'expo-app-loading';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar Container = styled.SafeAreaView(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n    flex: 1;\\n    \"])));\n\nvar App = function App() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isReady = _useState2[0],\n      setReady = _useState2[1];\n\n  var _useState3 = useState('WelcomePage'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      initialRoute = _useState4[0],\n      setInitialRoute = _useState4[1];\n\n  var _useState5 = useState(undefined),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userVC = _useState6[0],\n      setUserVC = _useState6[1];\n\n  var _useState7 = useState(undefined),\n      _useState8 = _slicedToArray(_useState7, 2),\n      uid = _useState8[0],\n      setUid = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      userFicture = _useState10[0],\n      setUserFicture = _useState10[1];\n\n  useEffect(function () {\n    var getUserInfo = function getUserInfo() {\n      if (userVC && uid) {\n        setInitialRoute('CardPage');\n      }\n    };\n\n    getUserInfo();\n  }, [userVC, uid]);\n\n  var _loadData = function _loadData() {\n    return _regeneratorRuntime.async(function _loadData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('tasks_vc', function (err, res) {\n              var result = JSON.parse(res);\n              setUserVC({\n                result: result\n              }.vc);\n              setUserID({\n                result: result\n              }.identity);\n              console.log({\n                result: result\n              }.vc);\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 8:\n            ;\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  if (!isReady) return React.createElement(AppLoading, {\n    startAsync: _loadData,\n    onFinish: function onFinish() {\n      return setReady(true);\n    },\n    onError: console.error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  });else return React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, React.createElement(StatusBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }), React.createElement(Navigation, {\n    initialRoute: initialRoute,\n    userVC: userVC,\n    uid: uid,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/bstudent/project/pass3/src/App.js"],"names":["React","useEffect","useState","styled","ThemeProvider","theme","Navigation","BlankCardPage","CardPage","AppLoading","AsyncStorage","Container","SafeAreaView","App","isReady","setReady","initialRoute","setInitialRoute","undefined","userVC","setUserVC","uid","setUid","userFicture","setUserFicture","getUserInfo","_loadData","getItem","err","res","result","JSON","parse","vc","setUserID","identity","console","log","catch","error"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StatusBar, SafeAreaView, View } from 'react-native';\nimport styled, { ThemeProvider } from 'styled-components/native';\nimport { theme } from './colors/Main';\nimport Navigation from './navigations';\nimport { BlankCardPage, CardPage } from './screens';\nimport AppLoading from 'expo-app-loading';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Container = styled.SafeAreaView`\n    flex: 1;\n    `\n\nconst App = () => {\n    const [isReady, setReady] = useState(false);\n    const [initialRoute, setInitialRoute] = useState('WelcomePage');\n    const [userVC, setUserVC] = useState(undefined);\n    const [uid, setUid] = useState(undefined);\n    const [userFicture, setUserFicture] = useState();\n\n    useEffect(() => {\n        const getUserInfo = () => { //데이터 가져오기(setUserDID 함꼐)\n                //const userDID='ethr:zxufsn1v3';\n                //const userDID=undefined;\n                // if (userDID) { //DID만 있고 사원증 없을경우\n                //     setInitialRoute('BlankCardPage');\n                // }\n                /* else*/ if (userVC&&uid) { //사원증(DID, ID) 있을 경우\n                     setInitialRoute('CardPage');\n                 }\n                // setReady(true);\n        }\n        getUserInfo(); //블록체인 서버에서 정보 가져오기\n    }, [userVC, uid]);\n\n    const _loadData = async () => {\n        try {\n            await AsyncStorage.getItem('tasks_vc', (err,res)=> {\n                const  result= JSON.parse(res);\n\n                setUserVC({result}.vc);\n                setUserID({result}.identity); //did,privateKey\n                console.log({result}.vc);   \n            }).catch(function (error) {\n                console.log(error);\n            });\n            //const value2 = await AsyncStorage.getItem('tasks_id');\n            /*const value3 = await AsyncStorage.getItem('tasks_ficture')\n            userF != null ? JSON.parse(jsonValue) : null;*/\n            //const value3 = null;\n            /*await AsyncStorage.getItem('tasks_ficture', (err, value) => {\n                if (err == null) {\n                \n                const value3 = JSON.parse(value);\n                console.log(value3.uri);\n                const data = (value3.uri).toString();\n                console.log(data);\n                setUserFicture(data);\n                console.log(userFicture);\n                }\n            });/*\n                if(value3 !== null) {\n                    //value3 = toString(`${JSON.parse(value3)}`);\n                    console.log(value3.uri);\n                    const a1 = JSON.stringify(value3.uri);\n                    \n                    console.log(a1+\"이거\");\n                    \n                    const a2 = JSON.parse(a1);\n                    \n                    console.log(a2);\n                } else console.log(err); \n                \n            });*/\n            \n        \n            /*if (value !== null) {\n                setUserVC(value);\n                console.log(value);\n            };*/\n            \n            /*if(value3 !== null) {\n                //value3 = toString(`${JSON.parse(value3)}`);\n                //setUserFicture(value3);\n                console.log(userFicture);\n            };*/\n        } catch (e) {\n            console.error(e);\n        };\n    };\n\n    if (!isReady) return (\n        <AppLoading\n            startAsync={_loadData}\n            onFinish={() => setReady(true)}\n            onError={console.error}\n        />\n    )\n    else\n        return (\n            <ThemeProvider theme={theme}>\n                <Container>\n                    <StatusBar></StatusBar>\n                    <Navigation initialRoute={initialRoute} \n                                userVC={userVC} \n                                uid={uid}\n                                //userFicture={userFicture}\n                    />\n                </Container>\n            </ThemeProvider>\n        );\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}